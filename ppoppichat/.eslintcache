[{"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\index.js":"1","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\reportWebVitals.js":"2","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\App.js":"3","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\login.js":"4","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebasecontext.js":"5","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\presence.js":"6","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebaseFunctions.js":"7","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\home.js":"8","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\bannertext.js":"9","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\atoms.js":"10","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\utils.js":"11"},{"size":632,"mtime":1613720485222,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"13"},{"size":6373,"mtime":1613729079643,"results":"15","hashOfConfig":"13"},{"size":19240,"mtime":1613729449722,"results":"16","hashOfConfig":"13"},{"size":785,"mtime":1613632641469,"results":"17","hashOfConfig":"13"},{"size":2118,"mtime":1611882153586,"results":"18","hashOfConfig":"13"},{"size":5843,"mtime":1613718634340,"results":"19","hashOfConfig":"13"},{"size":1128,"mtime":1612824831775,"results":"20","hashOfConfig":"13"},{"size":197,"mtime":1612824136147,"results":"21","hashOfConfig":"13"},{"size":949,"mtime":1613729387394,"results":"22","hashOfConfig":"13"},{"size":360,"mtime":1613720539472,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"trv6hl",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\index.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\reportWebVitals.js",[],["48","49"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\App.js",["50","51"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\login.js",["52","53","54"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebasecontext.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\presence.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebaseFunctions.js",["55"],"import firebase, { firestore } from './firebasecontext'\r\nimport { leaveVideoroomSocket } from './presence';\r\n\r\nconst fire = firebase\r\n\r\nconst db = fire.firestore();\r\n\r\n\r\nfunction newUserDefaults(user) {\r\n    return {\r\n        username: user.username,\r\n        photoURL: user.photoURL,\r\n        statusColor: \"#32EA44\",\r\n        statusMessage: '',\r\n        userStatus: 'status-online',\r\n        created: fire.firestore.Timestamp.now(),\r\n        'last-login': fire.firestore.Timestamp.now(),\r\n        new: true,\r\n        online: true\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport function listenToUserInfo(user) {\r\n    console.log('listening to userinfo updates')\r\n    return this.db.collection(\"users\").doc(user.uid)\r\n        .onSnapshot(function (doc) {\r\n            if (doc) {\r\n\r\n\r\n                console.log('user info updated setstate')\r\n\r\n                if (this.state.online !== doc.data().online)\r\n                    this.setState({ online: doc.data().online })\r\n\r\n            }\r\n\r\n        }.bind(this));\r\n}\r\n\r\n\r\nexport async function getUserfromRef(userRef) {\r\n    let user = await userRef.get()\r\n    if (user.exists) {\r\n        return user.data()\r\n        //console.log(user.data())\r\n    } else {\r\n        console.error('user does not exist!!!')\r\n    }\r\n    //fire.firestore().doc(userRef.path)\r\n}\r\n\r\nexport function getUserfromUid(uid) {\r\n    return db.doc('users/' + uid).get()\r\n}\r\n\r\nfunction gotoLogin() {\r\n    //redirect to login page if not logged in\r\n    let loc = new URL(window.location);\r\n    loc = loc.origin\r\n    window.location = loc + '/login'\r\n}\r\n\r\nexport function handleSignIn(user) {\r\n    let userdoc = this.db.collection(\"users\").doc(user.uid)\r\n    console.log('signing in')\r\n    //attempt to get doc with uid\r\n    return userdoc.get().then((doc) => {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            //if user does not exist then it is a new account\r\n            if (!doc.exists) {\r\n                //all account creation is now handled at login\r\n                gotoLogin()\r\n                console.log('no account found with uid: ', user.uid)\r\n                reject('no acc')\r\n\r\n            } else {\r\n\r\n                //not a new account\r\n                console.log('user signed in')\r\n                resolve(doc.data())\r\n\r\n            }\r\n        })\r\n        //always retruns user data\r\n\r\n    })\r\n}\r\n\r\nfunction createVideoroom(userRef, uid, username) {\r\n    //get user info then create video room with default settings\r\n    console.log('attempting to create Videoroom: ', uid)\r\n    const videoroomRef = db.collection('videorooms').doc()\r\n\r\n    videoroomRef.set({\r\n        owner: userRef,\r\n        roomName: username + \"'s room\",\r\n        new: true\r\n    }).then(() => {\r\n        //add new videoroom to user\r\n        console.log('room created!')\r\n        userRef.update({\r\n            videoroomRef: videoroomRef,\r\n            videoroomID: videoroomRef.id\r\n        })\r\n    })\r\n    videoroomRef.collection('videoState').doc('queue').set({ queue: [] })\r\n    videoroomRef.collection('videoState').doc('videoState').set({ videoState: [] })\r\n    videoroomRef.collection('videoState').doc('members').set({ members: [] })\r\n\r\n}\r\n\r\nexport function createNewUser({ uid, profilePicture, username }) {\r\n    const userRef = db.collection('users').doc(uid)\r\n    console.log('creating user with: ', uid, profilePicture, username)\r\n\r\n    return userRef.set(newUserDefaults({\r\n        username: username,\r\n        photoURL: profilePicture,\r\n    })).catch(e => {\r\n        console.log('error creating new user')\r\n        console.log(e)\r\n    }).then(() => {\r\n        return createVideoroom(userRef, uid, username)\r\n    })\r\n}\r\n\r\nexport function joinVideoroom(userRef, videoroomID) {\r\n    //if user not already in room, join\r\n    //console.log(userData.currentVideoroom, ' ', videoroomID)\r\n    console.log('hello i am join videoroom ', videoroomID)\r\n    userRef.get().then(data => {\r\n        if (data.get('currentVideoroom') === videoroomID) {\r\n            console.log('user is already in room ')\r\n        } else {\r\n\r\n\r\n            userRef.update({\r\n                currentVideoroom: videoroomID\r\n            }).then(() => {\r\n                db.doc('/videorooms/' + videoroomID + '/videoState/members').update({\r\n                    members: fire.firestore.FieldValue.arrayUnion(userRef)\r\n                }).then(() => {\r\n\r\n                    console.log('user successfully joined room')\r\n                }).catch(err => {\r\n                    console.log('err joining videoroom: ', err)\r\n                })\r\n            }).catch(err => {\r\n                console.log('err updating user currentvideoroom ', err)\r\n            })\r\n\r\n        }\r\n    })\r\n    return null\r\n\r\n}\r\n\r\nexport function leaveVideoroom(userRef) {\r\n    //get currentRoom\r\n    userRef.get().then(data => {\r\n\r\n        if (\r\n            data.get('currentVideoroom') === 'none' ||\r\n            data.get('currentVideoroom') === undefined\r\n        ) {\r\n            console.log('user is not in room')\r\n        } else {\r\n            console.log('leave video room ', data.get('currentVideoroom'))\r\n            leaveVideoroomSocket(data.get('currentVideoroom'))\r\n\r\n            db.doc('/videorooms/' + data.get('currentVideoroom') + '/videoState/members').update({\r\n                members: fire.firestore.FieldValue.arrayRemove(userRef)\r\n            }).then(() => {\r\n                userRef.update({\r\n                    currentVideoroom: 'none'\r\n                }).then(() => {\r\n\r\n\r\n\r\n                    console.log('user successfully left room')\r\n                }).catch(err => {\r\n                    console.log('err updating current videoroom: ', err)\r\n                })\r\n            }).catch(err => {\r\n                console.log('err leaving videoroom: ', err)\r\n            })\r\n        }\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport function subscribeToUserDataChange() {\r\n\r\n}","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\home.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\bannertext.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\atoms.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\utils.js",[],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":14,"column":3,"nodeType":"62","messageId":"63","endLine":14,"endColumn":7},{"ruleId":"60","severity":1,"message":"64","line":19,"column":24,"nodeType":"62","messageId":"63","endLine":19,"endColumn":28},{"ruleId":"60","severity":1,"message":"65","line":12,"column":5,"nodeType":"62","messageId":"63","endLine":12,"endColumn":24},{"ruleId":"66","severity":1,"message":"67","line":235,"column":8,"nodeType":"68","endLine":235,"endColumn":10,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":391,"column":8,"nodeType":"68","endLine":391,"endColumn":24,"suggestions":"71"},{"ruleId":"60","severity":1,"message":"72","line":1,"column":20,"nodeType":"62","messageId":"63","endLine":1,"endColumn":29},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Path' is defined but never used.","'useResetRecoilState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useLayoutEffect has missing dependencies: 'loading', 'loggedIn', 'setLoggedIn', 'setUserInformation', and 'setUserUID'. Either include them or remove the dependency array.","ArrayExpression",["75"],"React Hook useEffect has a missing dependency: 'setUserLoginValues'. Either include it or remove the dependency array.",["76"],"'firestore' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},"Update the dependencies array to be: [loading, loggedIn, setLoggedIn, setUserInformation, setUserUID]",{"range":"81","text":"82"},"Update the dependencies array to be: [setUserLoginValues, watchAllFields]",{"range":"83","text":"84"},[7304,7306],"[loading, loggedIn, setLoggedIn, setUserInformation, setUserUID]",[11884,11900],"[setUserLoginValues, watchAllFields]"]