[{"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\index.js":"1","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\reportWebVitals.js":"2","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\App.js":"3","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\login.js":"4","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebasecontext.js":"5","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\presence.js":"6","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebaseFunctions.js":"7","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\home.js":"8","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\bannertext.js":"9","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\atoms.js":"10","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\utils.js":"11","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\ppoppi.js":"12","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\statusmessage.js":"13","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\sidebar\\panel.js":"14","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\main.js":"15","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\placeholder.js":"16","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\watch.js":"17","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videoqueue.js":"18","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\customModal.js":"19","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videoplayer.js":"20","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videomembers.js":"21"},{"size":632,"mtime":1613720485222,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":499162500000,"results":"24","hashOfConfig":"23"},{"size":6539,"mtime":1613735889326,"results":"25","hashOfConfig":"23"},{"size":19240,"mtime":1613729449722,"results":"26","hashOfConfig":"23"},{"size":785,"mtime":1613632641469,"results":"27","hashOfConfig":"23"},{"size":2118,"mtime":1611882153586,"results":"28","hashOfConfig":"23"},{"size":5843,"mtime":1613718634340,"results":"29","hashOfConfig":"23"},{"size":1128,"mtime":1612824831775,"results":"30","hashOfConfig":"23"},{"size":197,"mtime":1612824136147,"results":"31","hashOfConfig":"23"},{"size":949,"mtime":1613729387394,"results":"32","hashOfConfig":"23"},{"size":360,"mtime":1613720539472,"results":"33","hashOfConfig":"23"},{"size":8406,"mtime":1613738264195,"results":"34","hashOfConfig":"23"},{"size":1107,"mtime":1611693203664,"results":"35","hashOfConfig":"23"},{"size":2888,"mtime":1612770527087,"results":"36","hashOfConfig":"23"},{"size":1779,"mtime":1612770175415,"results":"37","hashOfConfig":"23"},{"size":485,"mtime":1613543612116,"results":"38","hashOfConfig":"23"},{"size":19989,"mtime":1613543503004,"results":"39","hashOfConfig":"23"},{"size":3430,"mtime":1612770498675,"results":"40","hashOfConfig":"23"},{"size":3235,"mtime":1613543553872,"results":"41","hashOfConfig":"23"},{"size":9259,"mtime":1612770813237,"results":"42","hashOfConfig":"23"},{"size":2080,"mtime":1612770910441,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"trv6hl",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"46"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\index.js",[],["89","90"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\reportWebVitals.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\App.js",["91","92"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\login.js",["93","94","95"],"import React, { useState, useEffect, useLayoutEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport Joi from 'joi';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { toastErr } from './utils/utils'\r\nimport {\r\n    useSetRecoilState,\r\n    useRecoilValue,\r\n    useRecoilState,\r\n    useResetRecoilState\r\n} from 'recoil';\r\n\r\nimport firebase, { fireauth } from './utils/firebasecontext'\r\nimport { getUserfromUid, createNewUser } from './utils/firebaseFunctions'\r\nimport {\r\n    currentModeAtom,\r\n    userCreateValuesAtom,\r\n    userLoginValuesAtom,\r\n    userUIDFromFirebaseAtom,\r\n    userData_username,\r\n    userLoggedInAtom\r\n} from './utils/atoms'\r\nimport '../sass/login.scss';\r\n\r\n\r\nimport anonpng from '../assets/login/anon.png';\r\nimport gitpng from '../assets/login/github.png';\r\nimport gpng from '../assets/login/google.png';\r\nimport img1 from '../assets/login/starterimage/angry.png'\r\nimport img2 from '../assets/login/starterimage/index.png'\r\nimport img3 from '../assets/login/starterimage/pirate.jpg'\r\nimport img4 from '../assets/login/starterimage/ppoppi.png'\r\nimport img5 from '../assets/login/starterimage/ppoppihead.png'\r\nimport img6 from '../assets/login/starterimage/ppoppinose.png'\r\n\r\n\r\nconst loginButtonSvg = (\r\n    <svg id='loginButtonSvg' width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" >\r\n        <rect x=\"0.5\" y=\"0.5\" width=\"119\" height=\"119\" rx=\"29.5\" stroke=\"black\" />\r\n        <path d=\"M93.7678 61.7678C94.7441 60.7915 94.7441 59.2085 93.7678 58.2322L77.8579 42.3223C76.8816 41.346 75.2986 41.346 74.3223 42.3223C73.346 43.2986 73.346 44.8816 74.3223 45.8579L88.4645 60L74.3223 74.1421C73.346 75.1184 73.346 76.7014 74.3223 77.6777C75.2986 78.654 76.8816 78.654 77.8579 77.6777L93.7678 61.7678ZM27 62.5H92V57.5H27V62.5Z\" fill=\"black\" />\r\n    </svg>\r\n)\r\n\r\nconst createUserSchema = Joi.object({\r\n    username: Joi.string()\r\n        .alphanum()\r\n        .min(3)\r\n        .max(26)\r\n        .required(),\r\n    profilePicture: Joi.required()\r\n\r\n})\r\n\r\nconst signSchema = Joi.object({\r\n    email: Joi.string()\r\n        .email({ tlds: { allow: ['com', 'net'] } })\r\n        .required(),\r\n    password: Joi.required()\r\n\r\n})\r\n\r\n/**\r\n * ANCHOR ENTERBUTTON\r\n * \r\n */\r\n\r\nfunction EnterButton(props) {\r\n    //const isLoggedIn = props.isLoggedIn;\r\n    let history = useHistory();\r\n    const mode = useRecoilValue(currentModeAtom)\r\n    const userUID = useRecoilValue(userUIDFromFirebaseAtom)\r\n    const userCreateValues = useRecoilValue(userCreateValuesAtom)\r\n    const userLoginValues = useRecoilValue(userLoginValuesAtom)\r\n    var handleClick = (e) => {\r\n        console.log('hello, handleclick is not set for enter button!!!')\r\n    }\r\n\r\n    function emailsignin(values) {\r\n        fireauth.signInWithEmailAndPassword(values.email, values.password)\r\n            .then(handleSuccess)\r\n            .catch(handleError);\r\n    }\r\n\r\n    function emailsignup(values) {\r\n        console.log('sign up time', values)\r\n        fireauth.createUserWithEmailAndPassword(values.email, values.password)\r\n            .then(handleSuccess)\r\n            .catch(handleError);\r\n    }\r\n\r\n    if (mode === 'signin' || mode === 'signup') {\r\n        handleClick = (e) => {\r\n            console.log('sign in')\r\n            const { error, value } = signSchema.validate(userLoginValues)\r\n            if (error) {\r\n                console.log(error)\r\n                toastErr(error.message)\r\n            } else {\r\n                if (mode === 'signin') {\r\n                    emailsignin(value)\r\n                } else {\r\n                    emailsignup(value)\r\n                }\r\n            }\r\n        }\r\n    } else if (mode === 'createuser') {\r\n\r\n        handleClick = (e) => {\r\n            const { error, value } = createUserSchema.validate(userCreateValues)\r\n            if (error) {\r\n                console.log(error)\r\n                toastErr(error.message)\r\n                return\r\n            } else {\r\n                console.log('createuser')\r\n                console.log({ ...value, uid: userUID })\r\n                createNewUser({ ...value, uid: userUID })\r\n                    .then(item => {\r\n                        console.log('acc created')\r\n                        history.push('/ppoppi')\r\n                    })\r\n            }\r\n\r\n        }\r\n\r\n    } else if (mode === 'continue') {\r\n        handleClick = (e) => {\r\n            history.push('/ppoppi')\r\n        }\r\n    } else {\r\n        console.log('err how did u get here?? ', props)\r\n    }\r\n    return (\r\n        <button id='loginbutton'\r\n            onClick={handleClick}\r\n        >\r\n            {loginButtonSvg}\r\n        </button>\r\n    )\r\n\r\n}\r\n\r\n/**\r\n * \r\n *  ANCHOR: LOGIN FLOW LOGIC\r\n * \r\n \r\n // check if user is logged in (auth change)\r\n \r\n // true: show user card page\r\n //     check if user has acc\r\n //         true: continue\r\n //         false: prompt create acc platform\r\n //             then goto ppoppi\r\n // then set enter btn as goto ppoppi\r\n \r\n // false: show regular login page\r\n //     check if signin\r\n //         true: prompt signin platform\r\n //             set btn as login\r\n //         false: prompt signup platform\r\n //             set btn as sign up\r\n // then wait for auth change\r\n */\r\n\r\n\r\n/**\r\n * ANCHOR: LOGIN FUNCTION\r\n * \r\n * \r\n * \r\n * \r\n */\r\n\r\nexport function Login() {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n    const [hasAccount, setHasAccount] = useState(123)\r\n\r\n    const [loggedIn, setLoggedIn] = useRecoilState(userLoggedInAtom)\r\n    const [mode, setMode] = useRecoilState(currentModeAtom)\r\n    const setUserUID = useSetRecoilState(userUIDFromFirebaseAtom)\r\n    const [username, setUserData_username] = useRecoilState(userData_username)\r\n    //let history = useHistory();\r\n\r\n    function setUserInformation({ username }) {\r\n        setUserData_username(username)\r\n    }\r\n\r\n    //listen to auth change// check if user is logged in\r\n    useLayoutEffect(() => {\r\n        console.log('listen to auth change')\r\n        fireauth.onAuthStateChanged(user => {\r\n            //wait for auth to check if user is logged in\r\n            if (loading) {\r\n                setLoading(false)\r\n            }\r\n\r\n            if (user) {\r\n                //user is logged in\r\n                if (!loggedIn) {\r\n                    setLoggedIn(true)\r\n                }\r\n\r\n                //check if acc exists\r\n                if (!loading) {\r\n                    setLoading(true)\r\n                }\r\n                setUserUID(user.uid)\r\n                getUserfromUid(user.uid)\r\n                    .then(data => {\r\n                        console.log(user.uid, data)\r\n                        if (data.exists) {\r\n                            setHasAccount(true)\r\n                            setUserInformation({\r\n                                username: data.get('username'),\r\n                            })\r\n                        } else {\r\n                            setHasAccount(false)\r\n                        }\r\n                        if (loading) {\r\n                            setLoading(false)\r\n                        }\r\n\r\n                    })\r\n            } else {\r\n                //user is not logged in\r\n                if (loggedIn) {\r\n                    setLoggedIn(false)\r\n                }\r\n            }\r\n        })\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        //wait for auth before showing anything\r\n        if (loading) {\r\n            //show loading screen\r\n            console.log('loading')\r\n        } else {\r\n            if (loggedIn) {\r\n                //user is logged in\r\n                console.log('logged in')\r\n                //now waiting if user has acc (still loading)\r\n                if (hasAccount !== 123) {\r\n                    if (hasAccount) {\r\n                        //acc is valid\r\n                        //show user card page\r\n                        console.log('acc valid')\r\n                        //enter button is continue\r\n                        setMode('continue')\r\n                    } else {\r\n                        //acc is not valid\r\n                        //show creation page\r\n                        console.log('acc not valid')\r\n                        //enter button is createuser\r\n                        setMode('createuser')\r\n                    }\r\n                }\r\n            } else {\r\n                //user is not logged in\r\n                //show user login page\r\n                console.log('not logged in')\r\n                //enter button is either signin or signup\r\n\r\n            }\r\n        }\r\n    }, [loading, loggedIn, hasAccount, setMode])\r\n\r\n\r\n\r\n    var platform;\r\n    var loginPlatformLeft;\r\n\r\n    function signout() {\r\n        //reset login message\r\n        fireauth.signOut().then(() => {\r\n            setMode('signin')\r\n            setLoggedIn(false)\r\n        })\r\n            .catch(handleError);\r\n    }\r\n\r\n    //wait for auth before showing anything\r\n    if (loading) {\r\n        //show loading screen\r\n        loginPlatformLeft = (\r\n            <>\r\n                <div className='login-form-title dutch-white'>\r\n                    loading...\r\n                </div>\r\n            </>\r\n        )\r\n    } else {\r\n        if (loggedIn) {\r\n            //user is logged in\r\n            //now waiting if user has acc (still loading)\r\n            if (hasAccount !== 123) {\r\n\r\n                if (hasAccount) {\r\n                    //acc is valid\r\n                    //show user card page\r\n                    loginPlatformLeft = (\r\n                        <>\r\n                            <div className='login-form-title dutch-white'>\r\n                                welcome!\r\n                            </div>\r\n                            <div className='login-username-title'>\r\n                                USERNAME\r\n                            </div>\r\n                            <div className='login-username'>\r\n                                {username}\r\n                            </div>\r\n\r\n                            <div className=\"here-button login-signout-create\" onClick={signout}>\r\n                                <span>NOT</span> YOUR ACCOUNT? SIGN <span className='dutch-white'>OUT</span>\r\n                            </div>\r\n                        </>\r\n                    )\r\n                } else {\r\n                    //acc is not valid\r\n                    //show creation page\r\n                    loginPlatformLeft = <UserCreatePlatform />\r\n                }\r\n            }\r\n        } else {\r\n            //user is not logged in\r\n            //show user login page\r\n            if (mode === 'signin' || mode === 'signup') {\r\n\r\n                loginPlatformLeft = <LoginForm></LoginForm>\r\n            } else {\r\n                loginPlatformLeft = (\r\n                    <div className='login-form-title dutch-white'>\r\n                        uh oh! pls refresh\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    platform = (\r\n        <div id='login-platform'>\r\n\r\n            <div className='login-platform-left'>\r\n                {loginPlatformLeft}\r\n            </div>\r\n\r\n            <div className='login-platform-right'>\r\n                <span >\r\n                    <EnterButton />\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"login app-page\" >\r\n            {platform}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nfunction handleSuccess(result) {\r\n    console.log('need to implement success!!')\r\n}\r\nfunction handleError(err) {\r\n    toastErr(err.msg)\r\n}\r\n\r\n/**\r\n * \r\n * ANCHOR: LOGINFORM\r\n * \r\n */\r\n\r\nfunction LoginForm() {\r\n\r\n    const [mode, setMode] = useRecoilState(currentModeAtom)\r\n    const setUserLoginValues = useSetRecoilState(userLoginValuesAtom)\r\n\r\n    const { register, watch } = useForm();\r\n    const watchAllFields = watch();\r\n\r\n    useEffect(() => {\r\n        setUserLoginValues(watchAllFields)\r\n    }, [watchAllFields])\r\n\r\n    function anonsignin() {\r\n        fireauth.signInAnonymously()\r\n            .then(handleSuccess)\r\n            .catch(handleError);\r\n    }\r\n    function githubsignin() {\r\n        var provider = new firebase.auth.GithubAuthProvider();\r\n        fireauth.signInWithPopup(provider)\r\n            .then(handleSuccess)\r\n            .catch(handleError);\r\n    }\r\n    function googlesignin() {\r\n        var provider = new firebase.auth.GoogleAuthProvider();\r\n        fireauth.signInWithPopup(provider)\r\n            .then(handleSuccess)\r\n            .catch(handleError);\r\n\r\n    }\r\n\r\n    const altsignin = (\r\n        <div className='alternate-login'>\r\n            <div className='alternate-login-label'>\r\n                <span className='dutch-white'>OR</span> SIGN IN WITH:\r\n            </div>\r\n            <img className='alternate-login-png' src={gpng}\r\n                alt='google login logo'\r\n                onClick={googlesignin}\r\n            />\r\n            <img className='alternate-login-png' src={gitpng}\r\n                alt='github logo'\r\n                onClick={githubsignin}\r\n            />\r\n            <img className='alternate-login-png' src={anonpng}\r\n                onClick={anonsignin}\r\n                alt='anon mask' />\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <div className='login-form-title dutch-white'>\r\n                {mode === 'signin' ? 'sign in' : 'sign up'}\r\n            </div>\r\n            {/* need to fix need to change to react hook form */}\r\n            <form id='login-form' onSubmit={e => {\r\n                e.preventDefault()\r\n            }}>\r\n                <div className=\"login-form-wrapper\">\r\n                    <label className=\"login-form-label\" htmlFor=\"email\">EMAIL</label>\r\n                    <input ref={register} id=\"email\" name=\"email\" type=\"email\" className=\"login-form\" />\r\n                </div>\r\n                <div className=\"login-form-wrapper\">\r\n                    <label className=\"login-form-label\" htmlFor=\"password\">PASSWORD</label>\r\n                    <input ref={register} id=\"password\" name=\"password\" type=\"password\" className=\"login-form\" />\r\n                </div>\r\n            </form>\r\n            {altsignin}\r\n            <div className='here-button'\r\n                onClick={e => {\r\n                    if (mode === 'signin') {\r\n                        setMode('signup')\r\n                    } else if (mode === 'signup') {\r\n                        setMode('signin')\r\n                    }\r\n\r\n                }}\r\n            >\r\n\r\n                <span>DONT</span> HAVE AN ACCOUNT? {mode === 'signin' ? ' SIGN IN ' : ' SIGN UP '} <span className='dutch-white'>HERE</span>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n/**\r\n * ANCHOR: USERCREATEPLATFORM\r\n * \r\n*/\r\n\r\nfunction UserCreatePlatform(props) {\r\n\r\n    const setUserValues = useSetRecoilState(userCreateValuesAtom)\r\n    const setMode = useSetRecoilState(currentModeAtom)\r\n    const setLoggedIn = useSetRecoilState(userLoggedInAtom)\r\n\r\n    const { register, watch, control } = useForm();\r\n    const watchAllFields = watch(undefined, {\r\n        username: \"\",\r\n        photoURL: img1,\r\n    });\r\n    const watchPic = watch('profilePicture', img1);\r\n\r\n\r\n    useEffect(() => {\r\n        setUserValues(watchAllFields)\r\n    }, [setUserValues, watchAllFields])\r\n\r\n    function signout() {\r\n        //reset login message\r\n        fireauth.signOut().then(() => {\r\n            setMode('signin')\r\n            setLoggedIn(false)\r\n        })\r\n            .catch(handleError);\r\n    }\r\n\r\n    return (//new user creation screen\r\n        <>\r\n            <div className='login-form-title dutch-white'>\r\n                welcome!\r\n            </div>\r\n\r\n            <form id='user-create' onSubmit={e => {\r\n                e.preventDefault()\r\n            }}>\r\n                <div className=\"login-form-wrapper\">\r\n                    <label className=\"login-form-label\" htmlFor=\"username\">CHOOSE A USERNAME</label>\r\n                    <input id=\"username\" name=\"username\" className=\"login-form\" ref={register} />\r\n                </div>\r\n                <div className='profile-picture-label'>\r\n                    CHOOSE A PROFILE PICTURE\r\n                            </div>\r\n                <div className='profile-picture-radio-wrapper'>\r\n                    <img\r\n                        className='profile-picture-selected'\r\n                        src={watchPic}\r\n                        alt='selected profile'\r\n                    ></img>\r\n                    <Controller\r\n                        as={\r\n                            <div className='profile-picture-grid'>\r\n                                <div>\r\n                                    <input type=\"radio\" id='choice1' className='profile-picture-choice' name=\"profilePicture\" value={img1} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice1\" style={{ backgroundImage: `url(${img1})` }} ></label>\r\n                                </div>\r\n                                <div>\r\n\r\n                                    <input type=\"radio\" id='choice2' className='profile-picture-choice' name=\"profilePicture\" value={img2} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice2\" style={{ backgroundImage: `url(${img2})` }} ></label>\r\n                                </div>\r\n                                <div>\r\n\r\n                                    <input type=\"radio\" id='choice3' className='profile-picture-choice' name=\"profilePicture\" value={img3} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice3\" style={{ backgroundImage: `url(${img3})` }} ></label>\r\n                                </div>\r\n                                <div>\r\n                                    <input type=\"radio\" id='choice4' className='profile-picture-choice' name=\"profilePicture\" value={img4} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice4\" style={{ backgroundImage: `url(${img4})` }} ></label>\r\n                                </div>\r\n                                <div>\r\n                                    <input type=\"radio\" id='choice5' className='profile-picture-choice' name=\"profilePicture\" value={img5} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice5\" style={{ backgroundImage: `url(${img5})` }} ></label>\r\n                                </div>\r\n                                <div>\r\n                                    <input type=\"radio\" id='choice6' className='profile-picture-choice' name=\"profilePicture\" value={img6} />\r\n                                    <label className=\"profile-picture-item\" htmlFor=\"choice6\" style={{ backgroundImage: `url(${img6})` }} ></label>\r\n                                </div>\r\n\r\n                            </div>\r\n                        }\r\n                        name=\"profilePicture\"\r\n                        control={control}\r\n                        defaultValue={img1}\r\n                    />\r\n                </div>\r\n            </form>\r\n            <div className=\"here-button login-signout-create\" onClick={signout}>\r\n                <span>NOT</span> YOUR ACCOUNT? SIGN <span className='dutch-white'>OUT</span>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebasecontext.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\presence.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\firebaseFunctions.js",["96"],"import firebase, { firestore } from './firebasecontext'\r\nimport { leaveVideoroomSocket } from './presence';\r\n\r\nconst fire = firebase\r\n\r\nconst db = fire.firestore();\r\n\r\n\r\nfunction newUserDefaults(user) {\r\n    return {\r\n        username: user.username,\r\n        photoURL: user.photoURL,\r\n        statusColor: \"#32EA44\",\r\n        statusMessage: '',\r\n        userStatus: 'status-online',\r\n        created: fire.firestore.Timestamp.now(),\r\n        'last-login': fire.firestore.Timestamp.now(),\r\n        new: true,\r\n        online: true\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport function listenToUserInfo(user) {\r\n    console.log('listening to userinfo updates')\r\n    return this.db.collection(\"users\").doc(user.uid)\r\n        .onSnapshot(function (doc) {\r\n            if (doc) {\r\n\r\n\r\n                console.log('user info updated setstate')\r\n\r\n                if (this.state.online !== doc.data().online)\r\n                    this.setState({ online: doc.data().online })\r\n\r\n            }\r\n\r\n        }.bind(this));\r\n}\r\n\r\n\r\nexport async function getUserfromRef(userRef) {\r\n    let user = await userRef.get()\r\n    if (user.exists) {\r\n        return user.data()\r\n        //console.log(user.data())\r\n    } else {\r\n        console.error('user does not exist!!!')\r\n    }\r\n    //fire.firestore().doc(userRef.path)\r\n}\r\n\r\nexport function getUserfromUid(uid) {\r\n    return db.doc('users/' + uid).get()\r\n}\r\n\r\nfunction gotoLogin() {\r\n    //redirect to login page if not logged in\r\n    let loc = new URL(window.location);\r\n    loc = loc.origin\r\n    window.location = loc + '/login'\r\n}\r\n\r\nexport function handleSignIn(user) {\r\n    let userdoc = this.db.collection(\"users\").doc(user.uid)\r\n    console.log('signing in')\r\n    //attempt to get doc with uid\r\n    return userdoc.get().then((doc) => {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            //if user does not exist then it is a new account\r\n            if (!doc.exists) {\r\n                //all account creation is now handled at login\r\n                gotoLogin()\r\n                console.log('no account found with uid: ', user.uid)\r\n                reject('no acc')\r\n\r\n            } else {\r\n\r\n                //not a new account\r\n                console.log('user signed in')\r\n                resolve(doc.data())\r\n\r\n            }\r\n        })\r\n        //always retruns user data\r\n\r\n    })\r\n}\r\n\r\nfunction createVideoroom(userRef, uid, username) {\r\n    //get user info then create video room with default settings\r\n    console.log('attempting to create Videoroom: ', uid)\r\n    const videoroomRef = db.collection('videorooms').doc()\r\n\r\n    videoroomRef.set({\r\n        owner: userRef,\r\n        roomName: username + \"'s room\",\r\n        new: true\r\n    }).then(() => {\r\n        //add new videoroom to user\r\n        console.log('room created!')\r\n        userRef.update({\r\n            videoroomRef: videoroomRef,\r\n            videoroomID: videoroomRef.id\r\n        })\r\n    })\r\n    videoroomRef.collection('videoState').doc('queue').set({ queue: [] })\r\n    videoroomRef.collection('videoState').doc('videoState').set({ videoState: [] })\r\n    videoroomRef.collection('videoState').doc('members').set({ members: [] })\r\n\r\n}\r\n\r\nexport function createNewUser({ uid, profilePicture, username }) {\r\n    const userRef = db.collection('users').doc(uid)\r\n    console.log('creating user with: ', uid, profilePicture, username)\r\n\r\n    return userRef.set(newUserDefaults({\r\n        username: username,\r\n        photoURL: profilePicture,\r\n    })).catch(e => {\r\n        console.log('error creating new user')\r\n        console.log(e)\r\n    }).then(() => {\r\n        return createVideoroom(userRef, uid, username)\r\n    })\r\n}\r\n\r\nexport function joinVideoroom(userRef, videoroomID) {\r\n    //if user not already in room, join\r\n    //console.log(userData.currentVideoroom, ' ', videoroomID)\r\n    console.log('hello i am join videoroom ', videoroomID)\r\n    userRef.get().then(data => {\r\n        if (data.get('currentVideoroom') === videoroomID) {\r\n            console.log('user is already in room ')\r\n        } else {\r\n\r\n\r\n            userRef.update({\r\n                currentVideoroom: videoroomID\r\n            }).then(() => {\r\n                db.doc('/videorooms/' + videoroomID + '/videoState/members').update({\r\n                    members: fire.firestore.FieldValue.arrayUnion(userRef)\r\n                }).then(() => {\r\n\r\n                    console.log('user successfully joined room')\r\n                }).catch(err => {\r\n                    console.log('err joining videoroom: ', err)\r\n                })\r\n            }).catch(err => {\r\n                console.log('err updating user currentvideoroom ', err)\r\n            })\r\n\r\n        }\r\n    })\r\n    return null\r\n\r\n}\r\n\r\nexport function leaveVideoroom(userRef) {\r\n    //get currentRoom\r\n    userRef.get().then(data => {\r\n\r\n        if (\r\n            data.get('currentVideoroom') === 'none' ||\r\n            data.get('currentVideoroom') === undefined\r\n        ) {\r\n            console.log('user is not in room')\r\n        } else {\r\n            console.log('leave video room ', data.get('currentVideoroom'))\r\n            leaveVideoroomSocket(data.get('currentVideoroom'))\r\n\r\n            db.doc('/videorooms/' + data.get('currentVideoroom') + '/videoState/members').update({\r\n                members: fire.firestore.FieldValue.arrayRemove(userRef)\r\n            }).then(() => {\r\n                userRef.update({\r\n                    currentVideoroom: 'none'\r\n                }).then(() => {\r\n\r\n\r\n\r\n                    console.log('user successfully left room')\r\n                }).catch(err => {\r\n                    console.log('err updating current videoroom: ', err)\r\n                })\r\n            }).catch(err => {\r\n                console.log('err leaving videoroom: ', err)\r\n            })\r\n        }\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nexport function subscribeToUserDataChange() {\r\n\r\n}","C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\home.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\home\\bannertext.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\atoms.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\utils\\utils.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\ppoppi.js",["97","98","99","100"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\statusmessage.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\sidebar\\panel.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\main.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\placeholder.js",["101"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\watch.js",["102","103"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videoqueue.js",[],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\customModal.js",["104","105","106"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videoplayer.js",["107"],"C:\\Users\\Brandon\\Desktop\\tech stuff\\ppoppichat\\ppoppichat\\src\\js\\ppoppi\\main\\watch\\videomembers.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":14,"column":3,"nodeType":"114","messageId":"115","endLine":14,"endColumn":7},{"ruleId":"112","severity":1,"message":"116","line":19,"column":24,"nodeType":"114","messageId":"115","endLine":19,"endColumn":28},{"ruleId":"112","severity":1,"message":"117","line":12,"column":5,"nodeType":"114","messageId":"115","endLine":12,"endColumn":24},{"ruleId":"118","severity":1,"message":"119","line":235,"column":8,"nodeType":"120","endLine":235,"endColumn":10,"suggestions":"121"},{"ruleId":"118","severity":1,"message":"122","line":391,"column":8,"nodeType":"120","endLine":391,"endColumn":24,"suggestions":"123"},{"ruleId":"112","severity":1,"message":"124","line":1,"column":20,"nodeType":"114","messageId":"115","endLine":1,"endColumn":29},{"ruleId":"112","severity":1,"message":"125","line":6,"column":5,"nodeType":"114","messageId":"115","endLine":6,"endColumn":19},{"ruleId":"112","severity":1,"message":"126","line":45,"column":21,"nodeType":"114","messageId":"115","endLine":45,"endColumn":31},{"ruleId":"112","severity":1,"message":"127","line":46,"column":12,"nodeType":"114","messageId":"115","endLine":46,"endColumn":20},{"ruleId":"112","severity":1,"message":"128","line":46,"column":22,"nodeType":"114","messageId":"115","endLine":46,"endColumn":33},{"ruleId":"112","severity":1,"message":"129","line":1,"column":10,"nodeType":"114","messageId":"115","endLine":1,"endColumn":24},{"ruleId":"112","severity":1,"message":"130","line":7,"column":10,"nodeType":"114","messageId":"115","endLine":7,"endColumn":23},{"ruleId":"112","severity":1,"message":"131","line":12,"column":17,"nodeType":"114","messageId":"115","endLine":12,"endColumn":26},{"ruleId":"112","severity":1,"message":"132","line":5,"column":8,"nodeType":"114","messageId":"115","endLine":5,"endColumn":13},{"ruleId":"112","severity":1,"message":"133","line":11,"column":5,"nodeType":"114","messageId":"115","endLine":11,"endColumn":12},{"ruleId":"112","severity":1,"message":"134","line":34,"column":12,"nodeType":"114","messageId":"115","endLine":34,"endColumn":15},{"ruleId":"112","severity":1,"message":"135","line":7,"column":80,"nodeType":"114","messageId":"115","endLine":7,"endColumn":89},"no-native-reassign",["136"],"no-negated-in-lhs",["137"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Path' is defined but never used.","'useResetRecoilState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useLayoutEffect has missing dependencies: 'loading', 'loggedIn', 'setLoggedIn', 'setUserInformation', and 'setUserUID'. Either include them or remove the dependency array.","ArrayExpression",["138"],"React Hook useEffect has a missing dependency: 'setUserLoginValues'. Either include it or remove the dependency array.",["139"],"'firestore' is defined but never used.","'useRecoilValue' is defined but never used.","'setLoading' is assigned a value but never used.","'loggedIn' is assigned a value but never used.","'setLoggedIn' is assigned a value but never used.","'leaveVideoroom' is defined but never used.","'joinVideoroom' is defined but never used.","'useEffect' is defined but never used.","'axios' is defined but never used.","'currUrl' is assigned a value but never used.","'url' is assigned a value but never used.","'socketSet' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},"Update the dependencies array to be: [loading, loggedIn, setLoggedIn, setUserInformation, setUserUID]",{"range":"144","text":"145"},"Update the dependencies array to be: [setUserLoginValues, watchAllFields]",{"range":"146","text":"147"},[7304,7306],"[loading, loggedIn, setLoggedIn, setUserInformation, setUserUID]",[11884,11900],"[setUserLoginValues, watchAllFields]"]